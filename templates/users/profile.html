{% extends 'base.html' %}

{% block title %}{{ profile_user.username }}'s Profile{% endblock %}

{% block content %}
<h1>{{ profile_user.username }}'s Profile</h1>

<div>
  <h2>Basic Information</h2>
  <p><strong>Username:</strong> {{ profile_user.username }}</p>
  <p><strong>Email:</strong> {{ profile_user.email }}</p>

  <h2>Professional Details</h2>
  <p><strong>Role:</strong> {{ profile_user.profile.role|default:"Not specified" }}</p>
  <p><strong>Location:</strong> {{ profile_user.profile.location|default:"Not specified" }}</p>

  <h2>Bio</h2>
  <p>{{ profile_user.profile.bio|default:"No bio available" }}</p>
</div>

<!-- Only show edit button if viewing own profile -->
{% if profile_user == user %}
<div>
  <a href="{% url 'users:edit_profile' %}">Edit Profile</a>
</div>
{% endif %}

<div>
  <h2>Portfolio</h2>
  {% if profile_user.portfolio_items.all %}
  <div class="portfolio-items">
    {% for item in profile_user.portfolio_items.all %}
    <div class="portfolio-item">
      <h3>{{ item.title }}</h3>
      <p>{{ item.description }}</p>
      {% if item.media_url %}
      <a href="{{ item.media_url }}" target="_blank">View Media</a>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p>No portfolio items yet.</p>
  {% endif %}

  {% if profile_user == user %}
  <a href="{% url 'portfolio:portfolio_list' %}">Manage Portfolio</a>
  {% endif %}
</div>
{% endblock %}